# Задание №1. Алгоритмы балансировки нагрузки

#### Балансировка нагрузки:

***Балансировка потребления*** — это метод быстрого распределения трафика по пулу ресурсов, поддерживающих приложение для обеспечения равномерной нагрузки на серверы и предотвращения перегрузок, что обеспечивает стабильную работу приложения и повышает качество обслуживания пользователей при обработке значительного объема трафика.

***Баланс нагрузки*** — это специальное устройство или программное обеспечение, которое распределяет входящий трафик между несколькими серверами в сети. Его основная задача - обеспечить равномерную нагрузку на все серверы и предотвращение перегрузок, что позволяет повысить производительность, эффективность и надежность системы. Балансировка нагрузки может быть реализована как аппаратно (с использованием специального оборудования, такого как физические балансировщики нагрузки), так и программно (с использованием программных решений, таких как балансировщики нагрузки на базе виртуальных машин). Она может быть настроена с использованием различных алгоритмов балансировки, таких как Round Robin, Weighted Round Robin, Least Connections, Destination Hash Scheduling, Source Hash Scheduling, Sticky Sessions и другие, в зависимости от нужд системы и специфики задачи.

***Аппаратный балансировщик нагрузки (Hardware Load Balancer)*** — это сетевое устройство, распределяющее трафик между несколькими серверами, обеспечивая высокую производительность и доступность приложений и сайтов. Он работает на уровне сетевых устройств, поддерживает множество протоколов и функции безопасности.

***Программные балансировщики нагрузок (Software Load Balancer)*** — это приложения, работающие на серверах, которые распределяют трафик между несколькими серверами, обеспечивая надежность и производительность. Они могут работать на уровне приложения, операционной системы или сети и поддерживают различные протоколы. Программные балансировщики нагрузок могут работать как часть облачных решений, а также могут быть реализованы на отдельном сервере.

***Алгоритм балансировки нагрузки*** – это набор правил, которым следует балансировщик нагрузки для определения наилучшего сервера для каждого из различных клиентских запросов. Алгоритмы балансировки нагрузки делятся на две основные категории.

## Алгоритмы балансировки нагрузки

| Алгоритм балансировки нагрузки | Преимущества | Недостатки | Описание |
| --- | --- | --- | --- |
| Round Robin | Прост в реализации, подходит для равномерно нагруженных серверов. | Не учитывает здоровье серверов, может привести к проблемам с пропускной способностью, не гарантирует равномерности распределения нагрузки в долгосрочной перспективе. | Каждому серверу в цикле по очереди присваивается запрос, простой и эффективный метод, но не учитывает факторы, такие как нагрузка на серверы и пропускная способность канала связи. |
| Weighted Round Robin | Позволяет оптимизировать использование ресурсов, подходит для неравномерно нагруженных серверов и дает гибкость настройки. | Не учитывает здоровье серверов, может привести к неравномерному распределению нагрузки на долгом временном интервале, требуется дополнительное управление весами для обеспечения равномерности. | Каждому серверу присваивается вес, который определяет частоту присвоения запросов, позволяя более эффективно использовать ресурсы. Веса могут быть настроены под конкретные требования, но требуют дополнительного управления для обеспечения балансировки нагрузки. |
| Least Connections | Равномерно распределяет нагрузку на сервера, работает для разнородного оборудования и позволяет масштабироваться без изменения конфигурации. | Не учитывает здоровье серверов, некоторые протоколы могут не поддерживать этот алгоритм, возможна неравномерность в долгосрочной перспективе. | Запросы направляются на сервер с наименьшим количеством активных соединений. Этот метод может быть особенно полезен для приложений, где каждое соединение удерживается относительно долгое время. |
| Destination Hash Scheduling | Эффективно работает с крупными наборами данных, разномерно распределяет нагрузку на сервера и позволяет достичь стабильности, подходит для обработки нагрузки со стороны пользователей. | Не учитывает здоровье серверов, может быть сложным в настройке, может привести к неравномерной нагрузке при работе с небольшим числом серверов. | На основе хэш-функции и информации о запросе рассчитывается индекс сервера, на который будет направлен запрос. Пользователи, обращающиеся к одному и тому же URI, будут обращаться к тому же серверу, что обеспечивает надежность и предсказуемость. |
| Source Hash Scheduling | Подходит для кэширования, обеспечивает балансировку нагрузки на базе источника, гарантирует сохранение сессий. | Не учитывает здоровье серверов, может быть сложным в настройке, может привести к неравномерной нагрузке при работе с небольшим числом серверов. | Запросы направляются на сервер, который соответствует хэшу источника запроса. Этот метод обычно используется для кэширования и обеспечивает сохранение сессий, так как все запросы от одного и того же клиента будут обслуживаться одним и тем же сервером. |
| Sticky Sessions | Сохраняет состояние клиента на сервере, упрощает обработку сессий, подходит для приложений, которые требуют сохранения состояния, обеспечивает более предсказуемую производительность. | Не учитывает здоровье серверов, может возникнуть проблема с балансировкой нагрузки, если клиенты активно используют один сервер, требуется управление состоянием сессий, не подходит для масштабируемых приложений. | Запросы направляются на тот же самый сервер, который обслуживал предыдущий запрос от того же клиента. Это позволяет сохранять состояние и упрощать обработку сессий в приложении. Однако, при активном использовании одного сервера возможны проблемы с пропускной способностью, что делает этот метод менее эффективным для масштабируемых приложений.